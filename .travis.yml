language: java
install: true

install:
        - gradle wrapper --gradle-version 4.2
        - ./gradlew assemble
jdk:
        - oraclejdk8
script:
        - ./gradlew test
        - ./gradlew jacocoTestReport
        - mkdir -p build/reports/jacoco/
        - bash <(curl -s https://codecov.io/bash)
        - ./gradlew bootJar
before_cache:
          - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
          - rm -fr $HOME/.gradle/caches/*/plugin-resolution/

cache:
          directories:
                      - $HOME/.gradle/caches/
                      - $HOME/.gradle/wrapper/
